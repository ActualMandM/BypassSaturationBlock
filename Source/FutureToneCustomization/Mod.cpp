// v1.00: N/A
// v1.01: 0x1412B7290
bool* visualStyle;

// v1.00: 0x1406888D0
// v1.01: 0x140683430
SIG_SCAN
(
	sigCustomizationStyle,
	"\x48\x83\xEC\x28\xE8\x00\x00\x00\x00\x88\x41\x2C\xE8\x00\x00\x00\x00\x88\x41\x2D\xE8\x00\x00\x00\x00\x88\x41\x2E\xE8\x00\x00\x00\x00\x88\x41\x2F\xE8\x00\x00\x00\x00\x88\x41\x30\xE8\x00\x00\x00\x00\x88\x41\x31\xE8\x00\x00\x00\x00\x88\x41\x32\xE8\x00\x00\x00\x00\x88\x41\x33\xE8\x00\x00\x00\x00\xB2\x01\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x33\xD2\xE8\x00\x00\x00\x00\xB2\x01\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x33\xD2\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x0F\x57\xC9\xE8\x00\x00\x00\x00\xF3\x0F\x10\x0D\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xF3\x0F\x10\x0D\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xF3\x0F\x10\x0D\x00\x00\x00\x00\x48\x83\xC4\x28\xE9\x00\x00\x00\x00",
	"xxxxx????xxxx????xxxx????xxxx????xxxx????xxxx????xxxx????xxxx????xxxx????xxx????x????xxx????xxx????x????x????x????x????x????xxx????x????x????x????xxxx????xxxx????x????xxxx????x????xxxx????xxxxx????"
);

// v1.00: 0x14040FFA0
// v1.01: 0x14040B370
SIG_SCAN
(
	sigMenuStyleValue,
	"\x48\x89\x5C\x24\x00\x48\x89\x6C\x24\x00\x48\x89\x74\x24\x00\x57\x48\x83\xEC\x20\x33\xED\x48\xC7\x41\x00\x00\x00\x00\x00\x48\x8B\xF9\x48\x89\x29\x48\x89\x69\x08\x48\x8D\x99\x00\x00\x00\x00\x40\x88\x69\x10\x8D\x75\x04\x48\x89\x69\x14\x66\x89\x69\x1C\x89\x69\x28\xC7\x41\x00\x00\x00\x00\x00\x48\x8D\x8B\x00\x00\x00\x00\xC7\x83\x00\x00\x00\x00\x00\x00\x00\x00\x40\x88\xAB\x00\x00\x00\x00\x48\xC7\x83\x00\x00\x00\x00\x00\x00\x00\x00\x66\x89\xAB\x00\x00\x00\x00\x48\x89\xAB\x00\x00\x00\x00\x48\x89\xAB\x00\x00\x00\x00\x48\x89\xAB\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x48\x8D\x8B\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x48\x8D\x8B\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x48\x8D\x8B\x00\x00\x00\x00\xE8\x00\x00\x00\x00\xB8\x00\x00\x00\x00\x4C\x8D\x8B\x00\x00\x00\x00\x0F\x1F\x40\x00\x41\xC7\x41\x00\x00\x00\x00\x00\x49\xC7\x41\x00\x00\x00\x00\x00\x41\x88\x29\x49\xC7\x41\x00\x00\x00\x00\x00\x41\x88\x69\x0C\x49\xC7\x41\x00\x00\x00\x00\x00\x41\x88\x69\x18\x49\xC7\x41\x00\x00\x00\x00\x00\x41\x88\x69\x24\x49\xC7\x41\x00\x00\x00\x00\x00\x41\x88\x69\x30\x49\x89\x69\xF0\x4D\x8D\x49\x48\x48\x83\xE8\x01\x75\xAF\x48\x8B\xCB\x89\x6B\xF8\xE8\x00\x00\x00\x00\x48\x8D\x4B\x18\xE8\x00\x00\x00\x00\x66\x89\x6B\x30\x40\x88\x6B\x32\xC7\x43\x00\x00\x00\x00\x00\x89\x6B\x38\xC7\x43\x00\x00\x00\x00\x00\x89\x6B\x40\x40\x88\x6B\x44\x89\x6B\x48\x48\x81\xC3\x00\x00\x00\x00\x48\x83\xEE\x01\x0F\x85\x00\x00\x00\x00\x48\x8D\x8F\x00\x00\x00\x00\xE8\x00\x00\x00\x00\x48\x8B\x5C\x24\x00\x48\x8B\x6C\x24\x00\x48\x8B\x74\x24\x00\xC7\x87\x00\x00\x00\x00\x00\x00\x00\x00\x48\x83\xC4\x20\x5F\xC3",
	"xxxx?xxxx?xxxx?xxxxxxxxxx?????xxxxxxxxxxxxx????xxxxxxxxxxxxxxxxxxxx?????xxx????xx????????xxx????xxx????????xxx????xxx????xxx????xxx????x????xxx????x????xxx????x????xxx????x????x????xxx????xxxxxxx?????xxx?????xxxxxx?????xxxxxxx?????xxxxxxx?????xxxxxxx?????xxxxxxxxxxxxxxxxxxxxxxxxx????xxxxx????xxxxxxxxxx?????xxxxx?????xxxxxxxxxxxxx????xxxxxx????xxx????x????xxxx?xxxx?xxxx?xx????????xxxxxx"
);

// v1.00: N/A
// v1.01: 0x1401D62B0
SIG_SCAN
(
	sigUnknown,
	"\x4D\x8B\xD1\x85\xD2\x74\x18\x83\xEA\x01\x74\x0C\x83\xFA\x01\x75\x1C\xB8\x00\x00\x00\x00\xEB\x0C\xB8\x00\x00\x00\x00\xEB\x05\xB8\x00\x00\x00\x00\x4C\x8D\x0C\x01\x4D\x85\xC9\x75\x03\x33\xC0\xC3\xB8\x00\x00\x00\x00\x41\xF7\x21\xB8\x00\x00\x00\x00\x8B\xCA\xC1\xE9\x0B\xF7\xE1\xC1\xEA\x06\x69\xC2\x00\x00\x00\x00\x2B\xC8\xB8\x00\x00\x00\x00\x41\x89\x08\x41\xF7\x21\xB8\x00\x00\x00\x00\x44\x8B\xC2\x41\xC1\xE8\x05\x41\xF7\xE0\xB8\x00\x00\x00\x00\xC1\xEA\x05\x6B\xCA\x3C\x44\x2B\xC1\x45\x89\x02\x45\x8B\x01\x41\xF7\xE0\xC1\xEA\x05\x6B\xCA\x3C\x44\x2B\xC1\x48\x8B\x4C\x24\x00\x44\x89\x01\x41\x8B\x01\xC3",
	"xxxxxxxxxxxxxxxxxx????xxx????xxx????xxxxxxxxxxxxx????xxxx????xxxxxxxxxxxx????xxx????xxxxxxx????xxxxxxxxxxx????xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?xxxxxxx"
);

extern "C" __declspec(dllexport) void Init()
{
	// v1.00: N/A
	// v1.01: 0x1401D65F0
	uint8_t* instrAddr = (uint8_t*)sigUnknown() + 0x340;
	visualStyle = (bool*)(instrAddr + readUnalignedU32(instrAddr + 0x3) + 0x7);
	printf("[Future Tone Customization] visualStyle: 0x%08x\n", visualStyle);
}

bool prevVisualStyle = (bool)-1;

extern "C" __declspec(dllexport) void OnFrame()
{
	if (prevVisualStyle != *visualStyle)
	{
		if (*visualStyle)
		{
			// v1.00: 0x140688919, 0x140688925, 0x14068892C
			// v1.01: 0x140683479, 0x140683485, 0x14068348C
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x49, uint8_t, 0xB2, 0x01);
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x55, uint8_t, 0x33, 0xD2);
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x5C, uint8_t, 0xB2, 0x01);

			// v1.00: 0x14041011A
			// v1.01: 0x14040B4EA
			WRITE_MEMORY((uint8_t*)sigMenuStyleValue() + 0x17A, int32_t, -1);
		}
		else
		{
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x49, uint8_t, 0x33, 0xD2);
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x55, uint8_t, 0xB2, 0x01);
			WRITE_MEMORY((uint8_t*)sigCustomizationStyle() + 0x5C, uint8_t, 0x33, 0xD2);

			WRITE_MEMORY((uint8_t*)sigMenuStyleValue() + 0x17A, int32_t, 0);
		}

		prevVisualStyle = *visualStyle;
	}
}